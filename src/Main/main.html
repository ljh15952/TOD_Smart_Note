<!DOCTPYE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <title>TSN</title>
    </head>

    <body id = "parent">
		<h4>
			선박명
		</h4>
		<input id='name'>
		
        <h4>
            종류
        </h4>
        <input type="radio" name='ship' value="어선" /> 어선
        <input type="radio" name='ship' value="선외기" /> 선외기
        <input type="radio" name='ship' value="레저보트" /> 레저보트
        <input type="radio" name='ship' value="고무보트" /> 고무보트
        <input type="radio" name='ship' value="관공선" /> 관공선
        <input type="radio" name='ship' value="해경정" /> 해경정

        <h4>
            최초 식별
        </h4>
        <input type="radio" name='where' value="구시포항 출항" /> 구시포항 출항
        <input type="radio" name='where' value="구시포항 입항" /> 구시포항 입항
        <input type="radio" name='where' value="원전에서 넘어옴" /> 원전에서 넘어옴
        <input type="radio" name='where' value="판정에서 넘어옴" /> 판정에서 넘어옴
        <input type="radio" name='where' value="원해에서 접근 중" /> 원해에서 접근 중

        <br />
        <br />
        <br />

        <button class="classss" tpye="button" onclick="getRadioBtn()">
            선박 추가
        </button>

		<button class="classss" tpye="button" onclick="getDeleteBtn()">
            전부 삭제
        </button>
		
		<button class="classss" tpye="button" onclick="showAllBtn()">
            전체 보기
        </button>
		
		<button class="classss" tpye="button" onclick="showInBtn()">
            입항만 보기
        </button>
		
		<button class="classss" tpye="button" onclick="showOutBtn()">
            출항만 보기
        </button>
		
		<!-- 버그 -->
		<!-- 14시3분이면 143분 으로 나옴 1403분으로 나와야 함 -->
		
        <script>
		
			
			function getRadioBtn(){
				const ShipName = document.getElementById('name').value;
				const ShipNodeList = document.getElementsByName('ship');
				const WhereNodeList = document.getElementsByName('where');
				
				var result;
				var curDate = new Date();
				
				var textNode;
							
				var str;
				
				result = curDate.getHours() + '' + curDate.getMinutes();
				
				result += ' ' + ShipName;
				document.getElementById('name').value = null;
				ShipNodeList.forEach((node) => {
					if(node.checked)  {
						result += ' ' + node.value;
						node.checked = false;
					}
				}) 

				WhereNodeList.forEach((node) => {
					if(node.checked)  {
						result += ' ' + node.value;
						node.checked = false;
						
						if(node.value == "구시포항 출항"){
							str = "구시포항 출항";
						}else if(node.value == "구시포항 입항"){
							str = "구시포항 입항";
						}
					}
				}) 
				
				
				obj = document.getElementById("parent");
           		newDiv = document.createElement("div");
				newDiv.innerHTML = result;
				newDiv.setAttribute("id", "myDiv"); // 새롭게 만들어지는 div 태그에 id 값 저장
				newDiv.style.backgroundColor = "yellow";
				
				
				newDiv.onclick = function(){
            		p = this.parentElement; //부모 HTML 태그요소
                	p.removeChild(this); // 자신을 부모 태그로 부터 제거   
           		}

            	obj.appendChild(newDiv);
				
				// textNode = document.createTextNode(result);
				// textNode.style = "display:none";
				// textNode.id = str;
				// document.body.appendChild(textNode);

				// var brr = document.createElement("br");
				// header.appendChild(brr);
			}	
			
			function getDeleteBtn(){
				while(header.firstChild){
					header.removeChild(header.firstChild);
				}
			}
			
			function showAllBtn(){
				
			}
			
			function showInBtn(){
				//header.style.visibility = "hidden";
				let node = header.firstChild;
				while(node != header.lastChild){
					if(node.id != "구시포항 출항"){
						node.style.visibility = "hidden";
					}
					node = node.nextSibling;
				}
			}
			
			function showOutBtn(){
				alert("3");
			}
			
        </script>
    </body>

    <html />
</html>